/* style.css - Revamped UI with light/dark theme and modern layout */
/* CSS Variables */
:root {
  --font-sans: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, sans-serif;
  --radius-sm: 4px;
  --radius: 10px;
  --radius-lg: 18px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.08), 0 0 0 1px rgba(0,0,0,.02);
  --shadow: 0 4px 22px -4px rgba(0,0,0,.12), 0 2px 8px -2px rgba(0,0,0,.08);
  --gradient-accent: linear-gradient(135deg,#6366f1,#8b5cf6 45%,#ec4899);
  --gradient-bg: radial-gradient(circle at 25% 18%,#eef2ff,transparent 60%), radial-gradient(circle at 78% 82%,#fce7f3,transparent 55%);
  --bg: #fafafa;
  --bg-alt: #ffffff;
  --bg-inset: #f1f5f9;
  --border: #e2e8f0;
  --text: #1e293b;
  --text-soft: #64748b;
  --brand: #6366f1;
  --brand-alt: #8b5cf6;
  --danger: #dc2626;
  --ok: #059669;
  --warn: #d97706;
  --code-bg: #1e293b;
  --code-border: #334155;
  --pill-bg: #e2e8f0;
  --scrollbar: #cbd5e1;
}

body.dark {
  --bg: #0f172a;
  --bg-alt: #16213a;
  --bg-inset: #1e293b;
  --border: #263245;
  --text: #f1f5f9;
  --text-soft: #94a3b8;
  --brand: #818cf8;
  --brand-alt: #a78bfa;
  --code-bg: #0f172a;
  --code-border: #1e293b;
  --pill-bg: #1e293b;
  --scrollbar: #334155;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: var(--font-sans);
  background: var(--bg);
  background-image: var(--gradient-bg);
  background-attachment: fixed;
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  transition: background-color .4s ease, color .3s ease;
}

/* Header */
.site-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px clamp(20px,4vw,54px);
  backdrop-filter: blur(16px);
  background: linear-gradient(90deg,rgba(255,255,255,0.85),rgba(255,255,255,0.68));
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 30;
  box-shadow: 0 4px 18px -6px rgba(0,0,0,.18);
  transition: background .4s ease, box-shadow .4s ease;
}
body.dark .site-header { background: linear-gradient(90deg,rgba(30,41,59,.9),rgba(15,23,42,.85)); box-shadow: 0 4px 20px -4px rgba(0,0,0,.55); }

.brand { display: flex; align-items: center; gap: 14px; }
.brand h1 { font-size: 1.25rem; margin: 0; font-weight: 600; letter-spacing: .5px; }
.logo-gradient {
  font-weight: 700;
  font-size: 1.5rem;
  background: var(--gradient-accent);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  letter-spacing: 1px;
  filter: drop-shadow(0 4px 10px rgba(99,102,241,.35));
}

.header-actions { display: flex; gap: 8px; }

/* Layout */
.layout { max-width: 1500px; margin: 46px auto 70px; padding: 0 clamp(18px,4vw,70px); width: 100%; display: grid; grid-template-columns: repeat(auto-fit,minmax(520px,1fr)); gap: clamp(28px,3vw,48px); }
@media (max-width:1100px){ .layout { grid-template-columns: 1fr; } }

/* Panels */
.panel {
  background: var(--bg-alt);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 30px clamp(24px,2.4vw,40px) 36px;
  box-shadow: var(--shadow);
  position: relative;
  overflow: hidden;
  isolation: isolate;
  transition: border-color .35s ease, transform .25s ease;
}
.panel:hover { border-color: var(--brand); transform: translateY(-4px); }
.panel:before { content:""; position:absolute; inset:0; background:linear-gradient(145deg,rgba(99,102,241,.16),transparent 58%,rgba(236,72,153,.14)); pointer-events:none; mix-blend-mode: overlay; }
body.dark .panel:before { background:linear-gradient(145deg,rgba(99,102,241,.28),transparent 60%,rgba(236,72,153,.22)); }

.panel h2 { margin:0 0 8px; font-size:1.05rem; letter-spacing:.5px; font-weight:600; }
.hint { margin:0 0 12px; font-size:.85rem; color: var(--text-soft); }

/* Textarea */
textarea { width:100%; min-height:230px; resize:vertical; padding:16px 18px; border:1px solid var(--border); background: var(--bg-inset); border-radius: var(--radius); color: var(--text); font: 500 0.95rem/1.5 var(--font-sans); letter-spacing:.3px; box-shadow: inset 0 0 0 1px rgba(255,255,255,.05); transition: border-color .25s, background .25s; }
textarea:focus { outline:none; border-color: var(--brand); box-shadow:0 0 0 3px rgba(99,102,241,.25); }
textarea::placeholder { color: var(--text-soft); }

/* Controls Grid */
.controls-grid { margin-top:26px; display:grid; gap:28px; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); }
.control-group { display:flex; flex-direction:column; gap:10px; background: var(--bg-inset); padding:16px 20px 20px; border:1px solid var(--border); border-radius: var(--radius); position:relative; box-shadow: inset 0 0 0 1px rgba(255,255,255,.03); }
.control-group.actions { justify-content:flex-end; }
.group-label { font-size:.7rem; letter-spacing:1.6px; font-weight:600; text-transform:uppercase; color: var(--brand); }
.control-group label { display:flex; gap:8px; align-items:center; font-size:.8rem; font-weight:500; }

input[type="number"], input[type="text"], select { width:100%; margin-top:4px; padding:10px 12px; background: var(--bg-alt); border:1px solid var(--border); border-radius: var(--radius-sm); color: var(--text); font: 500 .8rem var(--font-sans); transition:border-color .25s, background .25s, box-shadow .3s; }
input:focus, select:focus { outline:none; border-color: var(--brand); box-shadow:0 0 0 2px rgba(99,102,241,.25); }

/* Buttons */
button { font-family:var(--font-sans); font-weight:600; cursor:pointer; border-radius:var(--radius-sm); border:1px solid transparent; line-height:1; display:inline-flex; align-items:center; justify-content:center; gap:6px; letter-spacing:.3px; }
button.primary { background: var(--gradient-accent); color:#fff; padding:15px 22px; font-size:.85rem; box-shadow: 0 8px 24px -6px rgba(99,102,241,.55); position:relative; overflow:hidden; }
button.primary:before { content:""; position:absolute; inset:0; background: linear-gradient(90deg,rgba(255,255,255,.15),transparent 40%,rgba(255,255,255,.12)); opacity:0; transition:opacity .4s; }
button.primary:hover:before { opacity:1; }
button.primary:hover { filter:brightness(1.08); }
button.ghost { background:transparent; color: var(--text-soft); padding:10px 14px; font-size:.75rem; border:1px solid var(--border); transition: color .25s, border-color .25s, background .3s, transform .15s; }
button.ghost:hover { color: var(--text); border-color: var(--brand); background: var(--bg-inset); }
button.ghost:active { transform: scale(.94); }
button.full-width { width:100%; }

/* Meta row */
.meta-row { margin-top:18px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.pill { display:inline-flex; align-items:center; gap:6px; padding:6px 12px; border-radius:999px; background: var(--pill-bg); font-size:.65rem; font-weight:500; letter-spacing:.5px; text-transform:uppercase; }
.pill.muted { color: var(--text-soft); }

.status { font-size:.65rem; padding:6px 12px; border-radius:999px; font-weight:600; letter-spacing:.5px; text-transform:uppercase; background: var(--bg-inset); border:1px solid var(--border); color: var(--text-soft); transition: background .3s, color .3s; }
.status.idle { background: var(--bg-inset); }
.status.busy { background: linear-gradient(90deg, var(--brand), var(--brand-alt)); color:#fff; }
.status.error { background: var(--danger); color:#fff; }
.status.ok { background: var(--ok); color:#fff; }

/* Output */
.output-header { display:flex; align-items:center; justify-content:space-between; margin:-4px 0 14px; }
.output-actions { display:flex; gap:8px; }
.output-panel { display:flex; flex-direction:column; }
.output-body { position:relative; min-height:260px; }
.code-block { margin:0; background: var(--code-bg); border:1px solid var(--code-border); border-radius: var(--radius); padding:22px 24px 28px; overflow:auto; font: 500 13px/1.58 'JetBrains Mono', 'Monaco','Menlo','Ubuntu Mono',monospace; box-shadow: inset 0 0 0 1px rgba(255,255,255,.04),0 4px 18px -6px rgba(0,0,0,.35); max-height: 640px; }
.code-block::-webkit-scrollbar { width:10px; }
.code-block::-webkit-scrollbar-track { background: transparent; }
.code-block::-webkit-scrollbar-thumb { background: var(--scrollbar); border-radius: 20px; border: 2px solid var(--code-bg); }

/* Spinner */
.spinner { position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:18px; background: rgba(255,255,255,.9); backdrop-filter: blur(8px) saturate(180%); border:1px solid var(--border); border-radius: var(--radius); animation: fadeIn .35s ease; }
body.dark .spinner { background: rgba(15,23,42,.82); }
.spinner.hidden { display:none; }
.ring { width:60px; height:60px; border-radius:50%; border:6px solid #e2e8f0; border-top-color: var(--brand); animation: spin .8s linear infinite; }
.spinner p { margin:0; font-size:.8rem; font-weight:500; letter-spacing:.5px; color: var(--text-soft); }
body.dark .ring { border-color:#1e293b; border-top-color: var(--brand); }

@keyframes spin { to { transform:rotate(360deg); } }
@keyframes fadeIn { from { opacity:0; transform: translateY(4px);} to { opacity:1; transform:translateY(0);} }

/* Footer */
.site-footer { margin-top:auto; text-align:center; padding:40px 0 50px; font-size:.75rem; color: var(--text-soft); }
.site-footer a { color: var(--brand); text-decoration:none; }
.site-footer a:hover { text-decoration:underline; }

/* Utilities */
.hidden { display:none !important; }

/* Dark adjustments */
body.dark .panel:before { background:linear-gradient(145deg,rgba(99,102,241,.18),transparent 60%,rgba(236,72,153,.18)); }
body.dark .code-block { background: var(--code-bg); }
body.dark .control-group { background: rgba(30,41,59,.6); }

/* Small Screens */
@media (max-width: 680px) {
  .layout { padding: 0 20px; margin: 32px auto 56px; }
  .panel { padding:26px 20px 32px; }
  .controls-grid { grid-template-columns:1fr; }
  textarea { min-height:180px; }
  .site-header { padding:14px 22px; }
}